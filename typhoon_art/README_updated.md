# 台风轨迹可视化程序

## 问题解决

原始代码的问题：
1. **数据格式不匹配**：CSV文件使用IBTrACS格式（列名如`SID`, `LAT`, `LON`, `WMO_WIND`），但代码期望不同的列名
2. **代码过于复杂**：原始的pygame代码有234行，包含很多不必要的复杂功能
3. **缺乏调试信息**：没有足够的输出信息来诊断问题

## 解决方案

我创建了两个版本：

### 1. 简化版本 (`simple_typhoon_viz.py`) - 推荐
- 使用matplotlib和cartopy，参考你提供的代码
- 更清晰、更易理解
- 支持多种可视化选项
- 约150行代码，结构清晰

**特点：**
- 静态轨迹图，按风速着色
- 支持显示多个台风或单个台风详细轨迹
- 使用专业的地图投影和底图
- 交互式选择台风

### 2. 修复的动画版本 (`main.py`)
- 修复了数据格式问题
- 添加了调试信息和错误处理
- 保留了原有的动态螺旋效果
- 添加了ESC键退出功能

## 使用方法

### 快速开始
```bash
cd typhoon_art
python run_demo.py
```

### 直接运行简化版本
```bash
python simple_typhoon_viz.py
```

### 直接运行动画版本
```bash
python main.py
```

## 依赖安装

### 简化版本依赖
```bash
pip install matplotlib cartopy pandas numpy
```

### 动画版本依赖
```bash
pip install pygame pandas numpy
```

## 数据说明

程序使用`sample_typhoons.csv`文件，这是IBTrACS（国际最佳路径档案）格式的数据，包含：
- `SID`: 台风ID
- `NAME`: 台风名称
- `SEASON`: 年份
- `ISO_TIME`: 时间
- `LAT`, `LON`: 经纬度
- `WMO_WIND`: 风速（节）

## 功能对比

| 功能 | 简化版本 | 动画版本 |
|------|----------|----------|
| 代码行数 | ~150行 | ~280行 |
| 可视化方式 | 静态轨迹图 | 动态螺旋动画 |
| 地图底图 | 专业地理底图 | 简单投影 |
| 交互性 | 选择台风 | 实时动画 |
| 学习难度 | 简单 | 中等 |
| 视觉效果 | 清晰专业 | 动态炫酷 |

## 推荐使用

对于学习和理解台风轨迹，**推荐使用简化版本**，因为：
1. 代码更清晰易懂
2. 使用专业的地图库
3. 更容易修改和扩展
4. 视觉效果更专业

动画版本适合展示和演示，但代码复杂度较高。
